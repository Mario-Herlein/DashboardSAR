from datetime import datetime
import streamlit as st
import pandas as pd
import io

# Datos proporcionados
data = """
Centro SAR,Fecha,Fecha Fin,latitude,longitude,Tipo Incidente,Tipo Emb,Nombre Emb,Bandera,Indi,Mat,IMO,Pers. Asist.,Pers. San.,Pers. Her.,Pers. Muer.,Busq.,Salv.,Radioe.,Evac.,Diag. Primario
CRIV,03/01/2019,03/01/2019,-43.25,-64.82,Heridos,Pesquero,JULIANA S,ARGENTINA (REPUBLICA),LW 3312,2985,,1,0,1,0,SI,SI,SI,SI,GOLPE- INFLAMACION
CRIV,06/01/2019,07/01/2019,-45.58,-61.83,Heridos,Pesquero,PESCARGEN IV,ARGENTINA (REPUBLICA),LW 8595,150,,1,0,1,0,NO,NO,SI,NO,HERIDA CORTANTE
CRIV,07/01/2019,07/01/2019,-45.12,-60.25,Enfermo,Pesquero,JOANA PRNCESA,BELICE,,,312411000,1,0,1,0,SI,SI,SI,SI,DOLOR ABDOMINAL
CRIV,07/01/2019,07/01/2019,-46.08,-60.83,Enfermo,Pesquero,DONGYU 1519,CHINA,BZ8VK,,8775479,1,0,1,0,NO,NO,SI,NO,POSIBLE ACCIDENTE CEREBROVASCULAR
CRIV,12/01/2019,12/01/2019,-46.57,-62.67,Enfermo,Pesquero,HUYU 907,ARGENTINA (REPUBLICA),LW 3246,3027,,1,1,0,0,SI,SI,SI,SI,DOLOR ABDOMINAL
CRIV,13/01/2019,14/01/2019,-46.27,-62.42,Heridos,Pesquero,HUAFENG 801,ARGENTINA (REPUBLICA),LW 2656,3013,,1,0,1,0,NO,NO,SI,NO,GOLPE- INFLAMACION
CRIV,13/01/2019,14/01/2019,-45.82,-63.95,Enfermo,Pesquero,N 75 TAE BAEK,ARGENTINA (REPUBLICA),LW 9109,2364,,1,0,1,0,NO,NO,SI,NO,INTOXICACI?N
CRIV,14/01/2019,14/01/2019,-45.83,-67.05,Heridos,Pesquero,N 75 TAE BAEK,ARGENTINA (REPUBLICA),LW 9109,2364,,1,0,1,0,NO,NO,SI,NO,GOLPE- INFLAMACION
BBLA,15/01/2019,16/01/2019,-40.57,-59.83,Enfermo,Pesquero,CIUDAD FELIZ,ARGENTINA (REPUBLICA),LW 5817,910,,1,0,1,0,NO,NO,SI,NO,DOLOR ABDOMINAL
CRIV,17/01/2019,18/01/2019,-46.68,-62.5,Enfermo,Pesquero,MINTA,ARGENTINA (REPUBLICA),LW 9667,2196,,1,1,0,0,NO,NO,SI,NO,DOLOR ABDOMINAL
CRIV,18/01/2019,20/01/2019,-46.95,-62.97,Heridos,Pesquero,CEIBE DOUS,ARGENTINA (REPUBLICA),LW 9932,336,,1,0,1,0,NO,NO,SI,NO,GOLPE- INFLAMACION
CRIV,18/01/2019,19/01/2019,-46.63,-61.25,Falsa Alarma,Pesquero,MING XING,CHINA,,,412401570,0,0,0,0,SI,SI,SI,NO,S/D
CRIV,18/01/2019,19/01/2019,-46.78,-62.63,Heridos,Pesquero,ESPERANZA 909,ARGENTINA (REPUBLICA),LW 5909,2577,,1,0,1,0,NO,NO,SI,NO,TRAUMATISMO EN EL PIE
CRIV,19/01/2019,20/01/2019,-46.65,-61.82,Enfermo,Pesquero,CERES,ARGENTINA (REPUBLICA),LW 7115,1420,,1,0,1,0,NO,NO,SI,NO,REACCION ALERGICA
CRIV,20/01/2019,20/01/2019,-46.93,-62.38,Enfermo,Pesquero,XIN SHI JI 98,ARGENTINA (REPUBLICA),LW 3361,2995,,1,0,1,0,NO,NO,SI,NO,DOLOR ABDOMINAL
CRIV,21/01/2019,22/01/2019,-47.77,-65.8,Heridos,Pesquero,BEAGLE I,ARGENTINA (REPUBLICA),LW 8387,1842,,1,0,1,0,NO,NO,SI,NO,HERIDA CORTANTE
CRIV,23/01/2019,24/01/2019,-47.1,-62.65,Enfermo,Pesquero,PUENTE MAYOR,ARGENTINA (REPUBLICA),LW 3321,2630,,1,0,1,0,NO,NO,SI,NO,DOLOR ABDOMINAL
MPLA,24/01/2019,24/01/2019,-37.97,-57.53,Vuelta de Campana,Kayak,KAYAK,ARGENTINA (REPUBLICA),,,,0,0,0,0,SI,NO,SI,NO,S/D
CRIV,26/01/2019,26/01/2019,-44.3,-61.48,Enfermo,Pesquero,LADEBARAN,ARGENTINA (REPUBLICA),LW9230,1741,,1,0,1,0,NO,NO,SI,NO,DOLOR ABDOMINAL
MPLA,27/01/2019,27/01/2019,-41.07,-57.3,Enfermo,Pesquero,MISS TIDE,ARGENTINA (REPUBLICA),LW 9822,2439,,1,1,0,0,NO,NO,SI,NO,S/D
CRIV,28/01/2019,29/01/2019,-47.07,-62.55,Enfermo,Pesquero,HUAFENG 801,ARGENTINA (REPUBLICA),LW 2656,3013,,1,1,0,0,NO,NO,SI,NO,DOLOR ABDOMINAL
CRIV,28/01/2019,30/01/2019,-47.15,-62.82,Heridos,Pesquero,N75 TAE BAEK,ARGENTINA (REPUBLICA),LW 9109,2364,,1,0,1,0,NO,NO,SI,NO,TRAUMATISMO EN EL PIE
CRIV,30/01/2019,01/02/2019,-47.2,-62.85,Heridos,Pesquero,ANGELUS,ARGENTINA (REPUBLICA),LW 3283,1953,,1,0,1,0,NO,NO,SI,NO,HERIDA CORTANTE
CRIV,01/02/2019,01/02/2019,-44.02,-61.4,Enfermo,Pesquero,JUPITER II,ARGENTINA (REPUBLICA),LW 9897,406,,1,0,1,0,NO,NO,SI,NO,DOLOR ABDOMINAL
CRIV,01/02/2019,02/02/2019,-46.95,-62.82,Heridos,Pesquero,HUYU 906,ARGENTINA (REPUBLICA),LW 3015,3026,,1,0,1,0,NO,NO,SI,NO,GOLPE- INFLAMACION
CRIV,01/02/2019,02/02/2019,-46.67,-62.43,Enfermo,Pesquero,NAVEGANTES II,ARGENTINA (REPUBLICA),LW 2857,1451,,1,0,1,0,NO,NO,SI,NO,INFECCION
BBLA,01/02/2019,02/02/2019,-40.45,-58.63,Heridos,Pesquero,DON FRANSISCO,ARGENTINA (REPUBLICA),LW 4975,2562,,1,0,1,0,NO,NO,SI,NO,HERIDA CORTANTE
DESE,01/02/2019,05/02/2019,-47.25,-62.93,Enfermo,Pesquero,ESTRELLA N  11,ARGENTINA (REPUBLICA),LW4739,2575,,1,0,1,0,NO,NO,SI,NO,INFECCION
PZRP,02/02/2019,02/02/2019,-34.52,-58.43,Vuelta de Campana,Velero c/ Motor,PATAGONICO,ARGENTINA (REPUBLICA),,,,1,1,0,0,SI,SI,SI,SI,S/D
MPLA,04/02/2019,04/02/2019,-38.63,-58.48,Heridos,Pesquero,SIEMPRE VIEJO PANCHO,ARGENTINA (REPUBLICA),LW3180,2937,,8,8,0,0,NO,NO,SI,NO,GOLPE- INFLAMACION
CRIV,05/02/2019,05/02/2019,-44.17,-59.2,Enfermo,Pasajeros,CELEBRITY ECLIPSE,MALTA ISLA (REPUBLICA DE),9HXC9,,,1,1,0,0,SI,SI,SI,SI,NEUMONIA
CRIV,07/02/2019,08/02/2019,-46.58,-62.17,Enfermo,Pesquero,HUYU 907,ARGENTINA (REPUBLICA),LW3246,3027,,1,1,0,0,NO,NO,SI,NO,RESPIRATORIO
DESE,08/02/2019,09/02/2019,-47.25,-62.65,Heridos,Pesquero,HUAFENG 802,ARGENTINA (REPUBLICA),LW 2508,,,1,0,1,0,NO,NO,SI,NO,GOLPE- INFLAMACION
MPLA,08/02/2019,08/02/2019,-39.08,-56.67,Enfermo,Pesquero,PADRE PIO,ARGENTINA (REPUBLICA),LW2782,,,1,0,1,0,NO,NO,SI,NO,DOLOR ABDOMINAL
CRIV,09/02/2019,11/02/2019,-46.58,-62.17,Heridos,Pesquero,XIN SHI JI N? 18,ARGENTINA (REPUBLICA),LW9818,2593,,1,0,1,0,NO,NO,SI,NO,HERIDA CORTANTE
CRIV,12/02/2019,12/02/2019,-47.23,-62.78,Heridos,Pesquero,ANGELUS,ARGENTINA (REPUBLICA),LW 3283,1953,,1,1,0,0,NO,NO,SI,NO,HERIDA CORTANTE
CRIV,12/02/2019,12/02/2019,-47.18,-62.78,Heridos,Pesquero,SAN MATEO,ARGENTINA (REPUBLICA),LW 8966,70,,1,1,0,0,SI,SI,SI,SI,HERIDA CORTANTE
USHU,12/02/2019,12/02/2019,-56.55,-65.55,Enfermo,Pasajeros,OCEAN DIAMOND,BAHAMAS,C6ZR5,,7325629,1,1,0,0,NO,NO,SI,NO,CARDIACO
CRIV,15/02/2019,15/02/2019,-46.4,-60.68,Hundido,Pesquero,ZHONGYUANYUM,CHINA,BZZV4,,,30,30,0,0,SI,SI,SI,SI,S/D
BBLA,15/02/2019,19/02/2019,-38.98,-61.32,Vuelta de Campana,Pesquero,SAN JORGE I,ARGENTINA (REPUBLICA),,02072M,,2,1,0,1,SI,SI,SI,NO,S/D
DESE,17/02/2019,19/02/2019,-47.68,-63.07,Heridos,Pesquero,GLORIA DEL MAR I,ARGENTINA (REPUBLICA),LW 2885,1983,,1,0,1,0,SI,SI,SI,NO,DOLOR EN EL PECHO POST CAIDA
USHU,18/02/2019,19/02/2019,-57.3,-64.52,Enfermo,Pasajeros,SEA SPIRIT,BAHAMAS,C6PJ8,,8802868,1,0,1,0,SI,SI,SI,SI,DOLOR ABDOMINAL
DESE,19/02/2019,19/02/2019,-44.37,-62.88,Enfermo,Pesquero,ESTRELLA N11,ARGENTINA (REPUBLICA),LW4739,2575,,1,1,0,0,NO,NO,SI,NO,HIPERTENSION
MPLA,20/02/2019,20/02/2019,-37.6,-56.9,Via de agua,Pesquero,SUSANA,ARGENTINA (REPUBLICA),LW7147,,,8,8,0,0,NO,SI,SI,NO,S/D
CRIV,20/02/2019,20/02/2019,-43.57,-65.03,Heridos,Pesquero,MARIA DEL VALLE,ARGENTINA (REPUBLICA),LW2863,2126,,1,1,0,0,NO,SI,SI,SI,GOLPE- INFLAMACION
DESE,25/02/2019,25/02/2019,-48,-62.35,Enfermo,Pesquero,ARBUMASA XXVIII,ARGENTINA (REPUBLICA),LW 5858,2569,,1,0,1,0,NO,NO,SI,NO,DOLOR ABDOMINAL
CRIV,25/02/2019,25/02/2019,-45.23,-61.2,Heridos,Pesquero,HUYU 907,ARGENTINA (REPUBLICA),,,,1,1,0,0,NO,NO,SI,NO,HERIDA CORTANTE
CRIV,28/02/2019,01/03/2019,-45.85,-67.45,Enfermo,Tanque,PUNTA LOYOLA,ARGENTINA (REPUBLICA),LW 2615,2759,,1,1,0,0,NO,NO,SI,NO,DOLOR ABDOMINAL
DESE,01/03/2019,02/03/2019,-47.42,-61.72,Enfermo,Pesquero,PATAGONIA I,ARGENTINA (REPUBLICA),LW 8740,2163,,1,0,1,0,NO,NO,SI,NO,DOLOR ABDOMINAL
CRIV,02/03/2019,02/03/2019,-46.63,-61.77,Enfermo,Pesquero,HUYU 908,ARGENTINA (REPUBLICA),LW 7278,3058,,1,0,1,0,SI,SI,SI,SI,SANGRADO
"""

# Convertir los datos en un DataFrame
df = pd.read_csv(io.StringIO(data), delimiter=',')

# Título del Dashboard
st.title('Dashboard SAR')

# Filtro de fechas
df['Fecha'] = pd.to_datetime(df['Fecha']).dt.date

start_date = st.date_input("Fecha de inicio", df['Fecha'].min())
end_date = st.date_input("Fecha de fin", df['Fecha'].max())
filtered_data = df[(df['Fecha'] >= start_date) & (df['Fecha'] <= end_date)]

# Mostrar mapa
st.map(filtered_data)

# Gráficos

# Casos SAR según bandera
st.subheader('Casos SAR según bandera')
sar_bandera = filtered_data['Bandera'].value_counts()
st.bar_chart(sar_bandera)

# Tipo de Incidente
st.subheader('Tipo de Incidente')
incidente_tipo = filtered_data['Tipo Incidente'].value_counts()
st.bar_chart(incidente_tipo)

# Casos por Centro SAR
st.subheader('Casos por Centro SAR')
centro_sar = filtered_data['Centro SAR'].value_counts()
st.bar_chart(centro_sar)

# Ejecuta el dashboard con: streamlit run dashboard.py

